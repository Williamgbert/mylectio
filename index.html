<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyLectio - Lectio Divina Microlearning</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }
        
        .glass-morphism {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        /* Mobile optimizations */
        @media (max-width: 768px) {
            .breathing-animation {
                animation: breathe 3s ease-in-out infinite;
            }
            
            .verse-reveal {
                animation: verseReveal 0.8s ease-out forwards;
            }
            
            .glass-morphism {
                backdrop-filter: blur(8px);
            }
        }
        
        .stained-glass-overlay {
            background: 
                radial-gradient(circle at 20% 30%, rgba(56, 63, 148, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(0, 173, 238, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(56, 63, 148, 0.05) 0%, transparent 50%);
        }
        
        .breathing-animation {
            animation: breathe 4s ease-in-out infinite;
        }
        
        @keyframes breathe {
            0%, 100% { transform: scale(1); opacity: 0.7; }
            50% { transform: scale(1.1); opacity: 1; }
        }
        
        .fade-in {
            animation: fadeIn 0.8s ease-out forwards;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .verse-reveal {
            animation: verseReveal 1.2s ease-out forwards;
        }
        
        @keyframes verseReveal {
            from { opacity: 0; transform: translateX(-30px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        .progress-fill {
            transition: stroke-dasharray 0.8s ease-out;
        }
        
        .journal-focus {
            transition: all 0.3s ease;
        }
        
        .journal-focus:focus {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(15px);
        }
        
        .theme-dark {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #f9fafb;
        }
        
        .theme-light {
            background: linear-gradient(135deg, #f9fafb 0%, #e5e7eb 100%);
            color: #1f2937;
        }
    </style>
</head>
<body class="theme-light min-h-screen transition-all duration-500">
    <div class="stained-glass-overlay min-h-screen">
        <!-- Header -->
        <header class="glass-morphism border-b border-white/20 p-3 sm:p-4">
            <div class="max-w-4xl mx-auto flex justify-between items-center">
                <div class="flex items-center space-x-2 sm:space-x-3">
                    <div class="w-7 h-7 sm:w-8 sm:h-8 rounded-full bg-gradient-to-r from-indigo-600 to-cyan-500 flex items-center justify-center">
                        <span class="text-white text-xs sm:text-sm font-semibold">ML</span>
                    </div>
                    <h1 class="text-lg sm:text-xl font-semibold text-gray-800 dark:text-white">MyLectio</h1>
                </div>
                <div class="flex items-center space-x-2 sm:space-x-4">
                    <button id="themeToggle" class="p-1.5 sm:p-2 rounded-lg glass-morphism hover:bg-white/20 transition-all">
                        <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M10 2L13.09 8.26L20 9L14 14.74L15.18 21.02L10 17.77L4.82 21.02L6 14.74L0 9L6.91 8.26L10 2Z"/>
                        </svg>
                    </button>
                    <div class="flex items-center space-x-1 sm:space-x-2">
                        <span class="text-xs sm:text-sm text-gray-600 dark:text-gray-300 hidden sm:inline">Progress</span>
                        <div class="relative w-10 h-10 sm:w-12 sm:h-12">
                            <svg class="w-10 h-10 sm:w-12 sm:h-12 transform -rotate-90" viewBox="0 0 36 36">
                                <path class="text-gray-300" stroke="currentColor" stroke-width="3" fill="none" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"/>
                                <path id="progressCircle" class="text-indigo-600 progress-fill" stroke="currentColor" stroke-width="3" fill="none" stroke-dasharray="0, 100" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"/>
                            </svg>
                            <div class="absolute inset-0 flex items-center justify-center">
                                <span id="progressText" class="text-xs font-semibold text-gray-700 dark:text-gray-200">0/7</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="max-w-4xl mx-auto p-4 sm:p-6">
            <!-- Welcome Screen -->
            <div id="welcomeScreen" class="text-center py-8 sm:py-12 fade-in">
                <div class="glass-morphism rounded-xl sm:rounded-2xl p-6 sm:p-8 mb-6 sm:mb-8">
                    <div class="breathing-animation w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-4 sm:mb-6 rounded-full bg-gradient-to-r from-indigo-600 to-cyan-500 flex items-center justify-center">
                        <svg class="w-6 h-6 sm:w-8 sm:h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
                        </svg>
                    </div>
                    <h2 class="text-2xl sm:text-3xl font-bold text-gray-800 dark:text-white mb-3 sm:mb-4">Welcome to MyLectio</h2>
                    <p class="text-base sm:text-lg text-gray-600 dark:text-gray-300 mb-6 max-w-2xl mx-auto leading-relaxed">
                        Discover the ancient practice of Lectio Divina through seven contemplative daily modules. 
                        Each session guides you through reading, reflecting, responding, and resting with Scripture.
                    </p>
                    <button id="beginJourney" class="bg-gradient-to-r from-indigo-600 to-cyan-500 text-white px-6 sm:px-8 py-3 rounded-lg font-semibold hover:shadow-lg transform hover:scale-105 transition-all duration-300 w-full sm:w-auto">
                        Begin Your Journey
                    </button>
                </div>
            </div>

            <!-- Day Selection -->
            <div id="daySelection" class="hidden">
                <h2 class="text-xl sm:text-2xl font-bold text-gray-800 dark:text-white mb-4 sm:mb-6 text-center">Choose Your Daily Practice</h2>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 mb-6 sm:mb-8">
                    <div class="day-card glass-morphism rounded-xl p-4 sm:p-6 cursor-pointer hover:bg-white/20 transition-all duration-300 transform hover:scale-105" data-day="1">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-sm font-semibold text-indigo-600 dark:text-cyan-400">Day 1</span>
                            <div class="flex items-center space-x-2">
                                <div class="completion-badge-1 w-6 h-6 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center">
                                    <span class="text-xs font-bold text-indigo-600 dark:text-indigo-300">1</span>
                                </div>
                                <button class="reset-day hidden text-xs text-gray-500 hover:text-red-500 transition-colors" data-day="1" title="Reset this day">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <h3 class="font-semibold text-gray-800 dark:text-white mb-2 text-base sm:text-lg">The Invitation</h3>
                        <p class="text-sm text-gray-600 dark:text-gray-300 mb-3">Psalm 1:1â€“3</p>
                        <p class="text-xs sm:text-sm text-gray-500 dark:text-gray-400 leading-relaxed">Begin your journey with the foundation of contemplative reading</p>
                    </div>

                    <div class="day-card glass-morphism rounded-xl p-4 sm:p-6 cursor-pointer hover:bg-white/20 transition-all duration-300 transform hover:scale-105" data-day="2">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-sm font-semibold text-indigo-600 dark:text-cyan-400">Day 2</span>
                            <div class="flex items-center space-x-2">
                                <div class="completion-badge-2 w-6 h-6 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center">
                                    <span class="text-xs font-bold text-indigo-600 dark:text-indigo-300">2</span>
                                </div>
                                <button class="reset-day hidden text-xs text-gray-500 hover:text-red-500 transition-colors" data-day="2" title="Reset this day">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <h3 class="font-semibold text-gray-800 dark:text-white mb-2 text-base sm:text-lg">Lectio - Reading with Attention</h3>
                        <p class="text-sm text-gray-600 dark:text-gray-300 mb-3">Luke 10:38â€“42</p>
                        <p class="text-xs sm:text-sm text-gray-500 dark:text-gray-400 leading-relaxed">Learn to read Scripture with focused attention</p>
                    </div>

                    <div class="day-card glass-morphism rounded-xl p-4 sm:p-6 cursor-pointer hover:bg-white/20 transition-all duration-300 transform hover:scale-105" data-day="3">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-sm font-semibold text-indigo-600 dark:text-cyan-400">Day 3</span>
                            <div class="flex items-center space-x-2">
                                <div class="completion-badge-3 w-6 h-6 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center">
                                    <span class="text-xs font-bold text-indigo-600 dark:text-indigo-300">3</span>
                                </div>
                                <button class="reset-day hidden text-xs text-gray-500 hover:text-red-500 transition-colors" data-day="3" title="Reset this day">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <h3 class="font-semibold text-gray-800 dark:text-white mb-2 text-base sm:text-lg">Meditatio - Reflecting</h3>
                        <p class="text-sm text-gray-600 dark:text-gray-300 mb-3">John 15:1â€“8</p>
                        <p class="text-xs sm:text-sm text-gray-500 dark:text-gray-400 leading-relaxed">Deepen your understanding through meditation</p>
                    </div>

                    <div class="day-card glass-morphism rounded-xl p-4 sm:p-6 cursor-pointer hover:bg-white/20 transition-all duration-300 transform hover:scale-105" data-day="4">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-sm font-semibold text-indigo-600 dark:text-cyan-400">Day 4</span>
                            <div class="flex items-center space-x-2">
                                <div class="completion-badge-4 w-6 h-6 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center">
                                    <span class="text-xs font-bold text-indigo-600 dark:text-indigo-300">4</span>
                                </div>
                                <button class="reset-day hidden text-xs text-gray-500 hover:text-red-500 transition-colors" data-day="4" title="Reset this day">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <h3 class="font-semibold text-gray-800 dark:text-white mb-2 text-base sm:text-lg">Oratio - Responding in Prayer</h3>
                        <p class="text-sm text-gray-600 dark:text-gray-300 mb-3">Philippians 4:6â€“7</p>
                        <p class="text-xs sm:text-sm text-gray-500 dark:text-gray-400 leading-relaxed">Transform reflection into heartfelt prayer</p>
                    </div>

                    <div class="day-card glass-morphism rounded-xl p-4 sm:p-6 cursor-pointer hover:bg-white/20 transition-all duration-300 transform hover:scale-105" data-day="5">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-sm font-semibold text-indigo-600 dark:text-cyan-400">Day 5</span>
                            <div class="flex items-center space-x-2">
                                <div class="completion-badge-5 w-6 h-6 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center">
                                    <span class="text-xs font-bold text-indigo-600 dark:text-indigo-300">5</span>
                                </div>
                                <button class="reset-day hidden text-xs text-gray-500 hover:text-red-500 transition-colors" data-day="5" title="Reset this day">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <h3 class="font-semibold text-gray-800 dark:text-white mb-2 text-base sm:text-lg">Contemplatio - Resting</h3>
                        <p class="text-sm text-gray-600 dark:text-gray-300 mb-3">Psalm 46:10</p>
                        <p class="text-xs sm:text-sm text-gray-500 dark:text-gray-400 leading-relaxed">Find rest and silence in God's presence</p>
                    </div>

                    <div class="day-card glass-morphism rounded-xl p-4 sm:p-6 cursor-pointer hover:bg-white/20 transition-all duration-300 transform hover:scale-105" data-day="6">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-sm font-semibold text-indigo-600 dark:text-cyan-400">Day 6</span>
                            <div class="flex items-center space-x-2">
                                <div class="completion-badge-6 w-6 h-6 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center">
                                    <span class="text-xs font-bold text-indigo-600 dark:text-indigo-300">6</span>
                                </div>
                                <button class="reset-day hidden text-xs text-gray-500 hover:text-red-500 transition-colors" data-day="6" title="Reset this day">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <h3 class="font-semibold text-gray-800 dark:text-white mb-2 text-base sm:text-lg">Living the Word</h3>
                        <p class="text-sm text-gray-600 dark:text-gray-300 mb-3">James 1:22â€“25</p>
                        <p class="text-xs sm:text-sm text-gray-500 dark:text-gray-400 leading-relaxed">Integrate Scripture into daily life</p>
                    </div>

                    <div class="day-card glass-morphism rounded-xl p-4 sm:p-6 cursor-pointer hover:bg-white/20 transition-all duration-300 transform hover:scale-105" data-day="7">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-sm font-semibold text-indigo-600 dark:text-cyan-400">Day 7</span>
                            <div class="flex items-center space-x-2">
                                <div class="completion-badge-7 w-6 h-6 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center">
                                    <span class="text-xs font-bold text-indigo-600 dark:text-indigo-300">7</span>
                                </div>
                                <button class="reset-day hidden text-xs text-gray-500 hover:text-red-500 transition-colors" data-day="7" title="Reset this day">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <h3 class="font-semibold text-gray-800 dark:text-white mb-2 text-base sm:text-lg">The Rhythm of Return</h3>
                        <p class="text-sm text-gray-600 dark:text-gray-300 mb-3">Isaiah 55:10â€“11</p>
                        <p class="text-xs sm:text-sm text-gray-500 dark:text-gray-400 leading-relaxed">Establish a sustainable practice</p>
                    </div>
                </div>

                <div class="text-center">
                    <button id="viewJournal" class="glass-morphism px-6 py-3 rounded-lg font-semibold hover:bg-white/20 transition-all duration-300 w-full sm:w-auto">
                        View My Journal
                    </button>
                </div>
            </div>

            <!-- Daily Module -->
            <div id="dailyModule" class="hidden">
                <!-- Stillness Phase -->
                <div id="stillnessPhase" class="text-center py-8 sm:py-12">
                    <div class="glass-morphism rounded-xl sm:rounded-2xl p-6 sm:p-8 mb-6 sm:mb-8">
                        <div class="breathing-animation w-16 h-16 sm:w-20 sm:h-20 mx-auto mb-4 sm:mb-6 rounded-full bg-gradient-to-r from-indigo-600 to-cyan-500 flex items-center justify-center">
                            <svg class="w-8 h-8 sm:w-10 sm:h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                            </svg>
                        </div>
                        <h2 class="text-xl sm:text-2xl font-bold text-gray-800 dark:text-white mb-3 sm:mb-4">Moment of Stillness</h2>
                        <p class="text-base sm:text-lg text-gray-600 dark:text-gray-300 mb-6 leading-relaxed">
                            Pause. Take a breath. Invite God to speak.
                        </p>
                        <div class="flex flex-col sm:flex-row justify-center gap-3 sm:gap-4">
                            <button id="startTimer" class="bg-gradient-to-r from-indigo-600 to-cyan-500 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition-all duration-300 w-full sm:w-auto">
                                Begin Silence (30s)
                            </button>
                            <button id="skipStillness" class="glass-morphism px-6 py-3 rounded-lg font-semibold hover:bg-white/20 transition-all duration-300 w-full sm:w-auto">
                                Continue
                            </button>
                        </div>
                        <div id="timerDisplay" class="hidden mt-6">
                            <div class="text-3xl sm:text-4xl font-bold text-indigo-600 dark:text-cyan-400 mb-2" id="timerText">30</div>
                            <div class="text-sm text-gray-500 dark:text-gray-400">seconds remaining</div>
                        </div>
                    </div>
                </div>

                <!-- Scripture Phase -->
                <div id="scripturePhase" class="hidden py-6 sm:py-8">
                    <div class="glass-morphism rounded-xl sm:rounded-2xl p-6 sm:p-8 mb-6 sm:mb-8">
                        <div class="text-center mb-6">
                            <h2 id="dayTitle" class="text-xl sm:text-2xl font-bold text-gray-800 dark:text-white mb-2"></h2>
                            <p id="scriptureReference" class="text-base sm:text-lg text-indigo-600 dark:text-cyan-400 font-semibold"></p>
                        </div>
                        
                        <div id="scriptureText" class="text-lg sm:text-xl leading-relaxed text-gray-700 dark:text-gray-200 mb-6 sm:mb-8 max-w-3xl mx-auto text-center">
                            <!-- Scripture verses will be inserted here -->
                        </div>
                        
                        <div class="text-center flex flex-col sm:flex-row justify-center gap-3 sm:gap-4">
                            <button id="revealSlowly" class="bg-gradient-to-r from-indigo-600 to-cyan-500 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition-all duration-300 w-full sm:w-auto">
                                Reveal Slowly
                            </button>
                            <button id="showAll" class="glass-morphism px-6 py-3 rounded-lg font-semibold hover:bg-white/20 transition-all duration-300 w-full sm:w-auto">
                                Show All
                            </button>
                            <button id="continueToReflection" class="hidden bg-gradient-to-r from-indigo-600 to-cyan-500 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition-all duration-300 w-full sm:w-auto">
                                Continue to Reflection
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Reflection Phase -->
                <div id="reflectionPhase" class="hidden py-6 sm:py-8">
                    <div class="glass-morphism rounded-xl sm:rounded-2xl p-6 sm:p-8 mb-6 sm:mb-8">
                        <h2 class="text-xl sm:text-2xl font-bold text-gray-800 dark:text-white mb-4 sm:mb-6 text-center">Guided Reflection</h2>
                        
                        <div id="reflectionPrompt" class="text-base sm:text-lg text-gray-600 dark:text-gray-300 mb-6 text-center leading-relaxed">
                            <!-- Reflection prompt will be inserted here -->
                        </div>
                        
                        <div class="max-w-2xl mx-auto">
                            <textarea 
                                id="journalEntry" 
                                class="w-full h-32 sm:h-40 p-4 glass-morphism rounded-lg border-0 resize-none journal-focus text-gray-700 dark:text-gray-200 placeholder-gray-500 dark:placeholder-gray-400 text-sm sm:text-base" 
                                placeholder="Write your reflections here..."
                            ></textarea>
                            
                            <div class="flex flex-col sm:flex-row justify-between items-center mt-4 gap-3 sm:gap-0">
                                <button id="guideMe" class="glass-morphism px-4 py-2 rounded-lg text-sm font-semibold hover:bg-white/20 transition-all duration-300 w-full sm:w-auto">
                                    Guide Me
                                </button>
                                <div class="text-sm text-gray-500 dark:text-gray-400 text-center sm:text-right">
                                    Auto-saved
                                </div>
                            </div>
                        </div>
                        
                        <div class="text-center mt-6 sm:mt-8">
                            <button id="continueToClosing" class="bg-gradient-to-r from-indigo-600 to-cyan-500 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition-all duration-300 w-full sm:w-auto">
                                Continue to Closing
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Closing Phase -->
                <div id="closingPhase" class="hidden py-6 sm:py-8">
                    <div class="glass-morphism rounded-xl sm:rounded-2xl p-6 sm:p-8 mb-6 sm:mb-8 text-center">
                        <h2 class="text-xl sm:text-2xl font-bold text-gray-800 dark:text-white mb-4 sm:mb-6">Closing Moment</h2>
                        
                        <div id="closingQuote" class="text-lg sm:text-xl italic text-gray-600 dark:text-gray-300 mb-4 max-w-2xl mx-auto leading-relaxed">
                            <!-- Quote will be inserted here -->
                        </div>
                        
                        <div id="quoteAuthor" class="text-base sm:text-lg font-semibold text-indigo-600 dark:text-cyan-400 mb-6 sm:mb-8">
                            <!-- Author will be inserted here -->
                        </div>
                        
                        <button id="completeDay" class="bg-gradient-to-r from-indigo-600 to-cyan-500 text-white px-6 sm:px-8 py-3 rounded-lg font-semibold hover:shadow-lg transform hover:scale-105 transition-all duration-300 w-full sm:w-auto">
                            Complete Day
                        </button>
                    </div>
                </div>
            </div>

            <!-- Journal View -->
            <div id="journalView" class="hidden">
                <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 sm:mb-6 gap-4 sm:gap-0">
                    <h2 class="text-xl sm:text-2xl font-bold text-gray-800 dark:text-white">My Lectio Journal</h2>
                    <div class="flex flex-col sm:flex-row gap-3 sm:gap-4 w-full sm:w-auto">
                        <button id="exportJournal" class="glass-morphism px-4 py-2 rounded-lg font-semibold hover:bg-white/20 transition-all duration-300 w-full sm:w-auto">
                            Export PDF
                        </button>
                        <button id="backToSelection" class="bg-gradient-to-r from-indigo-600 to-cyan-500 text-white px-4 py-2 rounded-lg font-semibold hover:shadow-lg transition-all duration-300 w-full sm:w-auto">
                            Back to Days
                        </button>
                    </div>
                </div>
                
                <div id="journalEntries" class="space-y-6">
                    <!-- Journal entries will be populated here -->
                </div>
            </div>
        </main>
    </div>

    <script>
        // Data structure for all days
        const lectioData = {
            1: {
                title: "The Invitation",
                reference: "Psalm 1:1â€“3",
                verses: [
                    "Blessed is the one who does not walk in step with the wicked",
                    "or stand in the way that sinners take",
                    "or sit in the company of mockers,",
                    "but whose delight is in the law of the Lord,",
                    "and who meditates on his law day and night.",
                    "That person is like a tree planted by streams of water,",
                    "which yields its fruit in season",
                    "and whose leaf does not witherâ€”",
                    "whatever they do prospers."
                ],
                prompt: "What does it mean to 'delight' in God's word? How might this passage be inviting you to approach Scripture differently?",
                quote: "Our hearts are restless until they rest in You.",
                author: "â€” Augustine of Hippo"
            },
            2: {
                title: "Lectio - Reading with Attention",
                reference: "Luke 10:38â€“42",
                verses: [
                    "As Jesus and his disciples were on their way,",
                    "he came to a village where a woman named Martha opened her home to him.",
                    "She had a sister called Mary,",
                    "who sat at the Lord's feet listening to what he said.",
                    "But Martha was distracted by all the preparations that had to be made.",
                    "She came to him and asked,",
                    "'Lord, don't you care that my sister has left me to do the work by myself?",
                    "Tell her to help me!'",
                    "'Martha, Martha,' the Lord answered,",
                    "'you are worried and upset about many things,",
                    "but few things are neededâ€”or indeed only one.",
                    "Mary has chosen what is better,",
                    "and it will not be taken away from her.'"
                ],
                prompt: "Like Mary, how can you choose the 'better part' in your daily life? What distractions keep you from sitting at Jesus' feet?",
                quote: "Be it done unto me according to your word.",
                author: "â€” Mary of Nazareth"
            },
            3: {
                title: "Meditatio - Reflecting",
                reference: "John 15:1â€“8",
                verses: [
                    "'I am the true vine, and my Father is the gardener.",
                    "He cuts off every branch in me that bears no fruit,",
                    "while every branch that does bear fruit he prunes",
                    "so that it will be even more fruitful.",
                    "You are already clean because of the word I have spoken to you.",
                    "Remain in me, as I also remain in you.",
                    "No branch can bear fruit by itself;",
                    "it must remain in the vine.",
                    "Neither can you bear fruit unless you remain in me.",
                    "I am the vine; you are the branches.",
                    "If you remain in me and I in you,",
                    "you will bear much fruit;",
                    "apart from me you can do nothing.'"
                ],
                prompt: "What does it mean to 'remain' in Christ? How do you experience this connection in your daily life?",
                quote: "The branch of the vine does not worry, and toil, and rush here to seek for sunshine, and there to find rain. No; it rests in union and communion with the vine.",
                author: "â€” Hudson Taylor"
            },
            4: {
                title: "Oratio - Responding in Prayer",
                reference: "Philippians 4:6â€“7",
                verses: [
                    "Do not be anxious about anything,",
                    "but in every situation,",
                    "by prayer and petition,",
                    "with thanksgiving,",
                    "present your requests to God.",
                    "And the peace of God,",
                    "which transcends all understanding,",
                    "will guard your hearts and your minds in Christ Jesus."
                ],
                prompt: "What anxieties are you carrying today? How can you transform your worries into prayers of thanksgiving?",
                quote: "Prayer is not asking. Prayer is putting oneself in the hands of God.",
                author: "â€” Mother Teresa"
            },
            5: {
                title: "Contemplatio - Resting",
                reference: "Psalm 46:10",
                verses: [
                    "Be still, and know that I am God;",
                    "I will be exalted among the nations,",
                    "I will be exalted in the earth."
                ],
                prompt: "In the stillness, what is God revealing to you? How does silence speak to your soul?",
                quote: "God is the friend of silence. See how natureâ€”trees, flowers, grassâ€”grows in silence; see the stars, the moon and the sun, how they move in silence.",
                author: "â€” Mother Teresa"
            },
            6: {
                title: "Living the Word",
                reference: "James 1:22â€“25",
                verses: [
                    "Do not merely listen to the word, and so deceive yourselves.",
                    "Do what it says.",
                    "Anyone who listens to the word but does not do what it says",
                    "is like someone who looks at his face in a mirror",
                    "and, after looking at himself, goes away",
                    "and immediately forgets what he looks like.",
                    "But whoever looks intently into the perfect law that gives freedom,",
                    "and continues in itâ€”not forgetting what they have heard,",
                    "but doing itâ€”they will be blessed in what they do."
                ],
                prompt: "How will you live out what you've learned this week? What specific action is God calling you to take?",
                quote: "Faith is a living, daring confidence in God's grace, so sure and certain that a man could stake his life on it a thousand times.",
                author: "â€” Martin Luther"
            },
            7: {
                title: "The Rhythm of Return",
                reference: "Isaiah 55:10â€“11",
                verses: [
                    "As the rain and the snow come down from heaven,",
                    "and do not return to it without watering the earth",
                    "and making it bud and flourish,",
                    "so that it yields seed for the sower and bread for the eater,",
                    "so is my word that goes out from my mouth:",
                    "It will not return to me empty,",
                    "but will accomplish what I desire",
                    "and achieve the purpose for which I sent it."
                ],
                prompt: "How has God's word taken root in your life this week? What rhythm of return to Scripture will you establish?",
                quote: "The Word of God is not a sorrow to us. It is the only thing that can satisfy the human heart.",
                author: "â€” Fulton J. Sheen"
            }
        };

        // State management
        let currentDay = 1;
        let currentPhase = 'stillness';
        let completedDays = JSON.parse(localStorage.getItem('completedDays') || '[]');
        let journalEntries = JSON.parse(localStorage.getItem('journalEntries') || '{}');
        let isDarkMode = localStorage.getItem('darkMode') === 'true';

        // DOM elements
        const welcomeScreen = document.getElementById('welcomeScreen');
        const daySelection = document.getElementById('daySelection');
        const dailyModule = document.getElementById('dailyModule');
        const journalView = document.getElementById('journalView');
        const stillnessPhase = document.getElementById('stillnessPhase');
        const scripturePhase = document.getElementById('scripturePhase');
        const reflectionPhase = document.getElementById('reflectionPhase');
        const closingPhase = document.getElementById('closingPhase');

        // Initialize app
        function initializeApp() {
            updateProgress();
            updateCompletionBadges();
            applyTheme();
            
            // Event listeners
            document.getElementById('beginJourney').addEventListener('click', showDaySelection);
            document.getElementById('themeToggle').addEventListener('click', toggleTheme);
            document.getElementById('viewJournal').addEventListener('click', showJournal);
            document.getElementById('backToSelection').addEventListener('click', showDaySelection);
            document.getElementById('exportJournal').addEventListener('click', exportJournal);
            
            // Day selection listeners
            document.querySelectorAll('.day-card').forEach(card => {
                card.addEventListener('click', (e) => {
                    // Don't start day if reset button was clicked
                    if (e.target.closest('.reset-day')) return;
                    
                    const day = parseInt(card.dataset.day);
                    startDay(day);
                });
            });
            
            // Reset day listeners
            document.querySelectorAll('.reset-day').forEach(button => {
                button.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const day = parseInt(button.dataset.day);
                    resetDay(day);
                });
            });
            
            // Module navigation listeners
            document.getElementById('startTimer').addEventListener('click', startSilenceTimer);
            document.getElementById('skipStillness').addEventListener('click', () => showPhase('scripture'));
            document.getElementById('revealSlowly').addEventListener('click', revealVersesSlowly);
            document.getElementById('showAll').addEventListener('click', showAllVerses);
            document.getElementById('continueToReflection').addEventListener('click', () => showPhase('reflection'));
            document.getElementById('guideMe').addEventListener('click', generateGuidedPrompt);
            document.getElementById('continueToClosing').addEventListener('click', () => showPhase('closing'));
            document.getElementById('completeDay').addEventListener('click', completeCurrentDay);
            
            // Journal auto-save
            document.getElementById('journalEntry').addEventListener('input', saveJournalEntry);
        }

        function showDaySelection() {
            hideAllScreens();
            daySelection.classList.remove('hidden');
            daySelection.classList.add('fade-in');
        }

        function showJournal() {
            hideAllScreens();
            journalView.classList.remove('hidden');
            populateJournal();
        }

        function hideAllScreens() {
            welcomeScreen.classList.add('hidden');
            daySelection.classList.add('hidden');
            dailyModule.classList.add('hidden');
            journalView.classList.add('hidden');
        }

        function hideAllPhases() {
            stillnessPhase.classList.add('hidden');
            scripturePhase.classList.add('hidden');
            reflectionPhase.classList.add('hidden');
            closingPhase.classList.add('hidden');
        }

        function startDay(day) {
            currentDay = day;
            hideAllScreens();
            dailyModule.classList.remove('hidden');
            showPhase('stillness');
            loadDayContent();
        }

        function showPhase(phase) {
            hideAllPhases();
            currentPhase = phase;
            
            switch(phase) {
                case 'stillness':
                    stillnessPhase.classList.remove('hidden');
                    resetTimerDisplay();
                    break;
                case 'scripture':
                    scripturePhase.classList.remove('hidden');
                    // Automatically start revealing verses slowly
                    setTimeout(() => {
                        revealVersesSlowly();
                    }, 500);
                    break;
                case 'reflection':
                    reflectionPhase.classList.remove('hidden');
                    loadJournalEntry();
                    break;
                case 'closing':
                    closingPhase.classList.remove('hidden');
                    break;
            }
        }

        function loadDayContent() {
            const data = lectioData[currentDay];
            
            // Load day title and reference
            document.getElementById('dayTitle').textContent = data.title;
            document.getElementById('scriptureReference').textContent = data.reference;
            
            // Load scripture text
            const scriptureContainer = document.getElementById('scriptureText');
            scriptureContainer.innerHTML = '';
            data.verses.forEach((verse, index) => {
                const verseElement = document.createElement('div');
                verseElement.className = 'verse hidden opacity-0 mb-2';
                verseElement.textContent = verse;
                scriptureContainer.appendChild(verseElement);
            });
            
            // Load reflection prompt
            document.getElementById('reflectionPrompt').textContent = data.prompt;
            
            // Load closing quote
            document.getElementById('closingQuote').textContent = data.quote;
            document.getElementById('quoteAuthor').textContent = data.author;
        }

        function resetTimerDisplay() {
            const timerDisplay = document.getElementById('timerDisplay');
            const timerText = document.getElementById('timerText');
            const startButton = document.getElementById('startTimer');
            
            timerDisplay.classList.add('hidden');
            timerText.textContent = '30';
            startButton.style.display = 'inline-block';
        }

        function startSilenceTimer() {
            const timerDisplay = document.getElementById('timerDisplay');
            const timerText = document.getElementById('timerText');
            const startButton = document.getElementById('startTimer');
            
            timerDisplay.classList.remove('hidden');
            startButton.style.display = 'none';
            
            let timeLeft = 30;
            const timer = setInterval(() => {
                timeLeft--;
                timerText.textContent = timeLeft;
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    setTimeout(() => showPhase('scripture'), 1000);
                }
            }, 1000);
        }

        function revealVersesSlowly() {
            const verses = document.querySelectorAll('.verse');
            const revealButton = document.getElementById('revealSlowly');
            const showAllButton = document.getElementById('showAll');
            const continueButton = document.getElementById('continueToReflection');
            
            revealButton.style.display = 'none';
            showAllButton.style.display = 'none';
            
            verses.forEach((verse, index) => {
                setTimeout(() => {
                    verse.classList.remove('hidden');
                    verse.classList.add('verse-reveal');
                    verse.style.opacity = '1';
                    
                    if (index === verses.length - 1) {
                        setTimeout(() => {
                            continueButton.classList.remove('hidden');
                        }, 500);
                    }
                }, index * 800);
            });
        }

        function showAllVerses() {
            const verses = document.querySelectorAll('.verse');
            const showAllButton = document.getElementById('showAll');
            const revealButton = document.getElementById('revealSlowly');
            const continueButton = document.getElementById('continueToReflection');
            
            verses.forEach(verse => {
                verse.classList.remove('hidden');
                verse.style.opacity = '1';
            });
            
            showAllButton.style.display = 'none';
            revealButton.style.display = 'none';
            continueButton.classList.remove('hidden');
        }

        function generateGuidedPrompt() {
            const prompts = [
                "What word or phrase from this passage speaks most deeply to you?",
                "How is God inviting you to respond to this Scripture?",
                "What emotions arise as you reflect on these words?",
                "Where do you see yourself in this passage?",
                "What is God saying to you through this text today?"
            ];
            
            const randomPrompt = prompts[Math.floor(Math.random() * prompts.length)];
            document.getElementById('reflectionPrompt').textContent = randomPrompt;
        }

        function saveJournalEntry() {
            const entry = document.getElementById('journalEntry').value;
            if (!journalEntries[currentDay]) {
                journalEntries[currentDay] = {};
            }
            journalEntries[currentDay].text = entry;
            journalEntries[currentDay].date = new Date().toISOString();
            localStorage.setItem('journalEntries', JSON.stringify(journalEntries));
        }

        function loadJournalEntry() {
            const entry = journalEntries[currentDay];
            if (entry) {
                document.getElementById('journalEntry').value = entry.text || '';
            }
        }

        function completeCurrentDay() {
            if (!completedDays.includes(currentDay)) {
                completedDays.push(currentDay);
                localStorage.setItem('completedDays', JSON.stringify(completedDays));
            }
            
            updateProgress();
            updateCompletionBadges();
            showDaySelection();
        }

        function resetDay(day) {
            // Remove from completed days
            completedDays = completedDays.filter(d => d !== day);
            localStorage.setItem('completedDays', JSON.stringify(completedDays));
            
            // Remove journal entry
            if (journalEntries[day]) {
                delete journalEntries[day];
                localStorage.setItem('journalEntries', JSON.stringify(journalEntries));
            }
            
            updateProgress();
            updateCompletionBadges();
        }

        function updateProgress() {
            const progressCircle = document.getElementById('progressCircle');
            const progressText = document.getElementById('progressText');
            const progress = (completedDays.length / 7) * 100;
            
            progressCircle.style.strokeDasharray = `${progress}, 100`;
            progressText.textContent = `${completedDays.length}/7`;
        }

        function updateCompletionBadges() {
            for (let day = 1; day <= 7; day++) {
                const badge = document.querySelector(`.completion-badge-${day}`);
                const resetButton = document.querySelector(`.reset-day[data-day="${day}"]`);
                const isCompleted = completedDays.includes(day);
                
                if (isCompleted) {
                    // Show completed state
                    badge.classList.remove('bg-indigo-100', 'dark:bg-indigo-900');
                    badge.classList.add('bg-gradient-to-r', 'from-green-500', 'to-emerald-600');
                    badge.innerHTML = `
                        <svg class="w-3 h-3 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/>
                        </svg>
                    `;
                    resetButton.classList.remove('hidden');
                } else {
                    // Show incomplete state
                    badge.classList.add('bg-indigo-100', 'dark:bg-indigo-900');
                    badge.classList.remove('bg-gradient-to-r', 'from-green-500', 'to-emerald-600');
                    badge.innerHTML = `<span class="text-xs font-bold text-indigo-600 dark:text-indigo-300">${day}</span>`;
                    resetButton.classList.add('hidden');
                }
            }
        }

        function populateJournal() {
            const container = document.getElementById('journalEntries');
            container.innerHTML = '';
            
            Object.keys(journalEntries).forEach(day => {
                const entry = journalEntries[day];
                const data = lectioData[day];
                
                if (entry.text) {
                    const entryElement = document.createElement('div');
                    entryElement.className = 'glass-morphism rounded-xl p-6 mb-4';
                    entryElement.innerHTML = `
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <h3 class="font-semibold text-gray-800 dark:text-white">Day ${day}: ${data.title}</h3>
                                <p class="text-sm text-indigo-600 dark:text-cyan-400">${data.reference}</p>
                            </div>
                            <span class="text-xs text-gray-500 dark:text-gray-400">
                                ${new Date(entry.date).toLocaleDateString()}
                            </span>
                        </div>
                        <p class="text-gray-600 dark:text-gray-300 whitespace-pre-wrap">${entry.text}</p>
                    `;
                    container.appendChild(entryElement);
                }
            });
            
            if (container.children.length === 0) {
                container.innerHTML = `
                    <div class="text-center py-12 text-gray-500 dark:text-gray-400">
                        <p>No journal entries yet. Complete some daily modules to see your reflections here.</p>
                    </div>
                `;
            }
        }

        function exportJournal() {
            let journalText = "My Lectio Divina Journal\n\n";
            
            Object.keys(journalEntries).forEach(day => {
                const entry = journalEntries[day];
                const data = lectioData[day];
                
                if (entry.text) {
                    journalText += `Day ${day}: ${data.title}\n`;
                    journalText += `${data.reference}\n`;
                    journalText += `Date: ${new Date(entry.date).toLocaleDateString()}\n\n`;
                    journalText += `${entry.text}\n\n`;
                    journalText += "---\n\n";
                }
            });
            
            const blob = new Blob([journalText], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'my-lectio-journal.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function toggleTheme() {
            isDarkMode = !isDarkMode;
            localStorage.setItem('darkMode', isDarkMode);
            applyTheme();
        }

        function applyTheme() {
            const body = document.body;
            if (isDarkMode) {
                body.classList.remove('theme-light');
                body.classList.add('theme-dark');
            } else {
                body.classList.remove('theme-dark');
                body.classList.add('theme-light');
            }
        }

        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', initializeApp);
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9894f7fd97174584',t:'MTc1OTU4Mzk0My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
